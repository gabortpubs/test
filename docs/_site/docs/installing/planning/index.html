<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.12.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Planning for installation - IBM Event Streams</title>
<meta name="description" content="Planning your installation of {{site.data.reuse.long_name}}.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Streams">
<meta property="og:title" content="Planning for installation">
<meta property="og:url" content="http://localhost:4000/mhub/qp-docs/docs/installing/planning/">


  <meta property="og:description" content="Planning your installation of {{site.data.reuse.long_name}}.">







  <meta property="article:published_time" content="2018-09-09T10:14:16-04:00">



  <meta property="article:modified_time" content="2018-07-22T12:22:01-04:00">



  

  


<link rel="canonical" href="http://localhost:4000/mhub/qp-docs/docs/installing/planning/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "IBM",
      "url": "http://localhost:4000/mhub/qp-docs",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/mhub/qp-docs/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Streams Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/mhub/qp-docs/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/mhub/qp-docs/">IBM Event Streams</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/mhub/qp-docs/docs/about/overview/" >Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/mhub/qp-docs/support/" >Support</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/mhub/qp-docs/docs/about/overview/"><span class="nav__sub-title">About</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/overview/" class="">Introduction</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/key-concepts/" class="">Key concepts</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/producing-messages/" class="">Producing messages</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/consuming-messages/" class="">Consuming messages</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/partition-leadership/" class="">Partition leadership</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/accessibility/" class="">Accessibility</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/notices/" class="">Notices</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/prerequisites/" class="">Pre-requisites</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/planning/" class="active">Planning for installation</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/downloading/" class="">Downloading</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/installing/" class="">Installing</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/configuring/" class="">Configuring</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/migrating/" class="">Migrating to IBM Event Streams</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/post-installation/" class="">Post-installation tasks</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/uninstalling/" class="">Uninstalling</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/logging-in/" class="">Logging in</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/generating-starter-app/" class="">Generating a starter application</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/testing-loads/" class="">Creating and testing message loads</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/security/users/" class="">Setting up users</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/security/encrypting-data/" class="">Encrypting your data</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/about/" class="">About geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/planning/" class="">Planning for geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/setting-up/" class="">Setting up geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/health/" class="">Monitoring health of geo-replication</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting to other systems</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/connecting/mq/" class="">Connecting to IBM MQ</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/connecting/mq-source-reference/" class="">Reference for IBM MQ source connector</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/deployment-health/" class="">Monitoring deployment health</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/cluster-health/" class="">Monitoring Kafka cluster health</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/modifying-configs/" class="">Modifying configuration settings</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/scaling/" class="">Scaling</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/updating-dynamically/" class="">Updating dynamically</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/mhub/qp-docs/docs/troubleshooting/intro/"><span class="nav__sub-title">Troubleshooting</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/troubleshooting/ui-error-firefox/" class="">UI error on Firefox</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Planning for installation">
    <meta itemprop="description" content="Planning your installation of {{site.data.reuse.long_name}}.">
    <meta itemprop="datePublished" content="September 09, 2018">
    <meta itemprop="dateModified" content="July 22, 2018">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Planning for installation
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu">
  <li><a href="#ibm-event-streams-community-edition">IBM Event Streams Community Edition</a></li>
  <li><a href="#ibm-event-streams">IBM Event Streams</a></li>
  <li><a href="#namespaces">Namespaces</a></li>
  <li><a href="#persistent-storage">Persistent storage</a></li>
  <li><a href="#connecting-external-clients">Connecting external clients</a></li>
  <li><a href="#managing-kafka-configurations">Managing Kafka configurations</a></li>
  <li><a href="#sizing-considerations">Sizing considerations</a></li>
  <li><a href="#logging">Logging</a></li>
</ul>
            </nav>
          </aside>
        
        <p>Consider the following when planning your installation.</p>

<h2 id="ibm-event-streams-community-edition">IBM Event Streams Community Edition</h2>

<p>The IBM Event Streams Community Edition is a free version intended for trials and demonstration purposes. It can be installed and used without charge.</p>

<p>You can <a href="../installing">install the Community Edition</a> from the catalog included with IBM Cloud Private.</p>

<h2 id="ibm-event-streams">IBM Event Streams</h2>

<p>IBM Event Streams is the paid-for version intended for enterprise use, and includes full IBM support and additional features such as geo-replication.</p>

<p>You can <a href="../installing">install IBM Event Streams</a> using the image you download from IBM Passport Advantage, and making it available in the IBM Cloud Private catalog.</p>

<p>It also includes entitlement for IBM Cloud Private Foundation which you can also download from IBM Passport Advantage if you do not already have IBM Cloud Private.</p>

<h2 id="namespaces">Namespaces</h2>

<p>Create namespaces to organize your IBM Event Streams deployments and control user access to them. In IBM Cloud Private, applicaitons are created under namespaces in the deployed IBM Cloud Private clusters. For more information, see <a href="https://www.ibm.com/support/knowledgecenter/SSBS6K_3.1.0/user_management/create_project.html">how to create namespaces</a>. <strong>DRAFT COMMENT:</strong>(CHECK LINK BEFORE RELEASE)</p>

<p>If you choose not to create a namespace, use the <code class="highlighter-rouge">default</code> namespace instead when performing the installation.</p>

<h2 id="persistent-storage">Persistent storage</h2>

<p><strong>DRAFT COMMENT:</strong> <em>Review early Sept.</em></p>

<p>Persistence is not enabled by default, so no persistent volumes are required. If you are not using persistence, you can ignore this section. Enable persistence if you want messages in topics and configuration settings to be retained in the event of a restart.</p>

<p>If persistence is enabled, each Apache Kafka® broker and Apache ZooKeeper™ server requires one Physical Volume. Kafka and ZooKeeper can use different storage classes to control how physical volumes are allocated.</p>

<p>If these Persistent Volumes are to be created manually, this must be done by the system administrator who will add these to a central pool before the Helm chart can be installed. The installation will then claim the required number of Persistent Volumes from this pool. For manual creation, “dynamic provisioning” must be disabled in the Helm chart when it is installed. It is up to the administrator to provide appropriate storage to back these Physical Volumes.</p>

<p>If these Persistent Volumes are to be created automatically at the time of installation, the system administrator must enable support for this prior to installing the Helm chart. For automatic creation “dynamic provisioning” should be enabled in the Helm chart when it is installed and storage class names provided to define which types of Persistent Volume get allocated to the deployment.</p>

<p>More information about Persistent Volumes and the system administration steps required before the Helm chart can be installed can be found in the <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/">Kubernetes documentation</a>.</p>

<p>To create persistent volumes, see the <a href="https://www.ibm.com/support/knowledgecenter/SSBS6K_3.1.0/manage_cluster/create_volume.html">IBM Cloud Private topics</a>.</p>

<p><strong>DRAFT COMMENT:</strong><em>Are the following steps still accurate, or should we just point to ICP docs as above?</em></p>

<p>You can enable persistence for Kafka when you install the Helm chart as follows:</p>
<ol>
  <li>Locate the section named “Persistent Storage (Apache Kafka)” in the Helm chart configuration settings</li>
  <li>Check the “Enable persistent storage for Apache Kafka” setting</li>
  <li>Optionally check the “Use dynamic provisioning for Apache Kafka” setting and provide a storage class name if the Persistent Volumes will be created dynamically</li>
</ol>

<p>You can enable persistence for ZooKeeper when you install the Helm chart as follows:</p>

<ol>
  <li>Locate the section named “ZooKeeper settings” in the Helm chart configuration settings</li>
  <li>Check the “Enable persistent storage for ZooKeeper servers” setting</li>
  <li>Optionally check the “Use dynamic provisioning for ZooKeeper servers” setting and provide a storage class name if the Persistent Volumes will be created dynamically</li>
</ol>

<h2 id="connecting-external-clients">Connecting external clients</h2>

<p>When installing IBM Event Streams, you have the option to allow external Kafka client applications to connect to the IBM Cloud Private cluster. The only exception is the starter application that you generate from the IBM Event Streams UI.</p>

<p>You can configure <a href="../configuring/#kafka-external-access-configuration">external access</a> when defining the settings for your installation. When installing by using the UI, you do this after clicking <strong>Configure</strong> for the Helm chart. You then set the <strong>External Hostname/IP address</strong> field in the <strong>Kafka external access configuration</strong> section to the externally visible hostname or IP address of the IBM Cloud Private master node.</p>

<p>Also ensure you configure security for your cluster by setting certificate details in the <strong>Secure connections</strong> section. By default, a self-signed certificate is created during installation and the <strong>Private key</strong>, <strong>TLS certificate</strong>, and <strong>CA certificate</strong> fields can be left blank. If you want to use an existing certificate, select <strong>provided</strong> under <strong>Certificate type</strong>, and provide these additional keys and certificate values as base 64-encoded strings.</p>

<p>When installing by using the CLI, add the <code class="highlighter-rouge">proxy.externalEndpoint=&lt;external-ip-address-or-hostname&gt;</code> value to the Helm install command, and set the values for secure connections. For more information, see the README.</p>

<p>After installation, <a href="../post-installation#enabling-external-client-access">enable external access</a> by chekcing the port number to use for external connections and ensuring the necessary certificates are configured within your client environment.</p>

<h2 id="managing-kafka-configurations">Managing Kafka configurations</h2>

<p>You can <a href="../../administering/modifying-configs/">use a ConfigMap</a> to specify the Kafka broker settings for your IBM Event Streams installation. You can use the ConfigMap when installing IBM Event Streams, or you can use it later to modify settings for an existing installation.</p>

<h2 id="sizing-considerations">Sizing considerations</h2>

<p><strong>DRAFT COMMENT:</strong> Need to revisit once Event Streams on ICP 3.1 is tested, then decide whether we want to include info in connection with scaling around the number of Kafka brokers needed, and similar info. Can we even provide any guidance here, or would they need to test load and then see scaling topic? Is there a minimum number of Kafka brokers for example? Is there any guidance on how many to use and when? I guess we can reference the <a href="../../getting-started/testing-loads/">load testing here</a>.</p>

<p>Capture questions raised in <a href="https://github.ibm.com/mhub/qp-planning/issues/646">https://github.ibm.com/mhub/qp-planning/issues/646</a></p>

<h2 id="logging">Logging</h2>

<p>IBM Cloud Private uses the ELK stack for managing logs (Elasticsearch, Logstash, and Kibana products). IBM Event Streams logs are written to <code class="highlighter-rouge">stdout</code> and are picked up by the default ELK stack setup.</p>

<p>Consider setting up the IBM Cloud Private logging for your environment to help resolve problems with your deployment and aid general troubleshooting. See the <a href="https://www.ibm.com/support/knowledgecenter/sv/SSBS6K_2.1.0.3/manage_metrics/logging_elk.html">IBM Cloud Private documentation about logging</a> for information about the the built-in ELK stack.</p>

<p>As part of setting up the IBM Cloud Private logging for IBM Event Streams, ensure you consider the following:</p>
<ul>
  <li><a href="https://www.ibm.com/support/knowledgecenter/SSBS6K_2.1.0.3/manage_metrics/capacity_planning.html">Capacity planning guidance</a>: set up your system to have sufficient resources towards the capture, storage, and management of logs.</li>
  <li><a href="https://www.ibm.com/support/knowledgecenter/sv/SSBS6K_2.1.0.3/manage_metrics/logging_elk.html#curator-usage-in-ibm-cloud-private">Log retention</a>: The logs captured using the ELK stack persist during restarts. However, logs older than a day are deleted at midnight by default to prevent log data from filling up available storage space. Consider changing the log data retention in line with your capacity planning. Longer retention of logs provides access to older data that might help troubleshoot problems.</li>
</ul>

<p>You can use log data to investigate any problems affecting your <a href="../../administering/cluster-health/">system health</a>.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-07-22">July 22, 2018</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/mhub/qp-docs/docs/installing/prerequisites/" class="pagination--pager" title="Pre-requisites
">Previous</a>
    
    
      <a href="/mhub/qp-docs/docs/installing/downloading/" class="pagination--pager" title="Downloading
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>
      <!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <div align="center" style="margin: 1em 0;">
        <ins class="adsbygoogle"
             style="display:block; border-bottom: initial;"
             data-ad-client="ca-pub-7328585512091257"
             data-ad-slot="3049671934"
             data-ad-format="auto"></ins>
        </div>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script> -->
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corp. 2018</br>
  Released under the <a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow" target="_blank">Apache License v2.0</a></div>

      </footer>
    </div>

    
  <script src="/mhub/qp-docs/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>




<script src="/mhub/qp-docs/assets/js/lunr/lunr.min.js"></script>
<script src="/mhub/qp-docs/assets/js/lunr/lunr-store.js"></script>
<script src="/mhub/qp-docs/assets/js/lunr/lunr-en.js"></script>





  </body>
</html>
