<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.12.0 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Creating and testing message loads  - IBM Event Streams</title>
<meta name="description" content=".">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="IBM Event Streams">
<meta property="og:title" content="Creating and testing message loads">
<meta property="og:url" content="http://localhost:4000/mhub/qp-docs/docs/getting-started/testing-loads/">


  <meta property="og:description" content=".">







  <meta property="article:published_time" content="2018-09-09T10:14:16-04:00">



  <meta property="article:modified_time" content="2018-07-19T11:31:38-04:00">



  

  


<link rel="canonical" href="http://localhost:4000/mhub/qp-docs/docs/getting-started/testing-loads/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "IBM",
      "url": "http://localhost:4000/mhub/qp-docs",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/mhub/qp-docs/feed.xml" type="application/atom+xml" rel="alternate" title="IBM Event Streams Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/mhub/qp-docs/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/mhub/qp-docs/">IBM Event Streams</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/mhub/qp-docs/docs/about/overview/" >Documentation</a>
            </li><li class="masthead__menu-item">
              <a href="/mhub/qp-docs/support/" >Support</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/mhub/qp-docs/docs/about/overview/"><span class="nav__sub-title">About</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/overview/" class="">Introduction</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/key-concepts/" class="">Key concepts</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/producing-messages/" class="">Producing messages</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/consuming-messages/" class="">Consuming messages</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/partition-leadership/" class="">Partition leadership</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/accessibility/" class="">Accessibility</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/about/notices/" class="">Notices</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Installing</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/prerequisites/" class="">Pre-requisites</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/planning/" class="">Planning for installation</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/downloading/" class="">Downloading</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/installing/" class="">Installing</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/configuring/" class="">Configuring</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/migrating/" class="">Migrating to IBM Event Streams</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/post-installation/" class="">Post-installation tasks</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/installing/uninstalling/" class="">Uninstalling</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting started</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/logging-in/" class="">Logging in</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/generating-starter-app/" class="">Generating a starter application</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/getting-started/testing-loads/" class="active">Creating and testing message loads</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Security</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/security/users/" class="">Setting up users</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/security/encrypting-data/" class="">Encrypting your data</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Geo-replication</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/about/" class="">About geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/planning/" class="">Planning for geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/setting-up/" class="">Setting up geo-replication</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/replication/health/" class="">Monitoring health of geo-replication</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Connecting to other systems</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/connecting/mq/" class="">Connecting to IBM MQ</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/connecting/mq-source-reference/" class="">Reference for IBM MQ source connector</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Administering</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/deployment-health/" class="">Monitoring deployment health</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/cluster-health/" class="">Monitoring Kafka cluster health</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/modifying-configs/" class="">Modifying configuration settings</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/scaling/" class="">Scaling</a></li>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/administering/updating-dynamically/" class="">Updating dynamically</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          
          

          <a href="/mhub/qp-docs/docs/troubleshooting/intro/"><span class="nav__sub-title">Troubleshooting</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/mhub/qp-docs/docs/troubleshooting/ui-error-firefox/" class="">UI error on Firefox</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Creating and testing message loads">
    <meta itemprop="description" content=".">
    <meta itemprop="datePublished" content="September 09, 2018">
    <meta itemprop="dateModified" content="July 19, 2018">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Creating and testing message loads
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu">
  <li><a href="#obtaining">Obtaining</a></li>
  <li><a href="#using">Using</a>
    <ul>
      <li><a href="#using-with-templates">Using with templates</a></li>
      <li><a href="#using-with-user-defined-values">Using with user-defined values</a></li>
    </ul>
  </li>
</ul>
            </nav>
          </aside>
        
        <p>IBM Event Streams provides a high-throughput producer application to test message loads and help validate the performance capabilities of your  cluster.</p>

<p>You can use a predefined load size from the templates provided, or you can specify your own settings to test throughput. Then use the test results to ensure your cluster setup is appropriate for your requirements, or make changes as needed, for example, by changing your <a href="../../administering/scaling/">scaling settings</a>.</p>

<h2 id="obtaining">Obtaining</h2>

<p>To download and install the application:</p>

<p><strong>DRAFT COMMENT:</strong> <em>4 Sept: This will change soon.</em></p>

<ol>
  <li>Ensure you have Java version 8. Also, ensure you have <a href="https://maven.apache.org/">Apache Maven</a> installed on your system.</li>
  <li>Go to the following Git project and <a href="https://github.ibm.com/Andrew-Dunnings1/es-producer">clone it</a>. <br /><strong>DRAFT:</strong> <em>Update to public link when before GA!</em></li>
  <li>Open a terminal and change to the root directory.</li>
  <li>Run the following command: <code class="highlighter-rouge">mvn install</code>. <br />You can also specify your root directory using the <code class="highlighter-rouge">-f</code> option as follows <code class="highlighter-rouge">mvn install -f &lt;path_to&gt;/pom.xml</code></li>
  <li>The <code class="highlighter-rouge">producer.jar</code> file is created in the <code class="highlighter-rouge">/target</code> directory.</li>
</ol>

<h2 id="using">Using</h2>

<p>Create a load on your IBM Event Streams Kafka cluster by running the <code class="highlighter-rouge">producer.jar</code> command. You can specify the load size based on the provided templates, or you can provide specific values for throughput and total messages to determine a custom load.</p>

<p>The following table lists the parameter options for the <code class="highlighter-rouge">producer.jar</code> command.</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Parameter</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">-a</code></td>
      <td>Bootstrap Address</td>
      <td>The addresses of your Kafka servers in the format <code class="highlighter-rouge">&lt;IP_address:port_number&gt;</code>. You can provide more than one address by adding them in a comma-separated list without any spaces.</td>
      <td><code class="highlighter-rouge">localhost:9092</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-t</code></td>
      <td>Topic</td>
      <td>The name of the topic to send the produced message load to.</td>
      <td><code class="highlighter-rouge">loadtest</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-s</code></td>
      <td>Size</td>
      <td>The load size you want to use for the test by using one of the templates provided - see the following table.</td>
      <td><code class="highlighter-rouge">medium</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-n</code></td>
      <td>Num Records</td>
      <td>The total number of messages to be sent as part of the load. If used, this option overrides the template load setting specified by the <code class="highlighter-rouge">size</code> option.</td>
      <td><code class="highlighter-rouge">None</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-m</code></td>
      <td>Messages per Second</td>
      <td>The number of messages to be sent per second as part of the load. If used, this option overrides the template load setting specified by the <code class="highlighter-rouge">size</code> option.</td>
      <td><code class="highlighter-rouge">None</code></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">-r</code></td>
      <td>Record Size</td>
      <td>The size of records to be sent in bytes. If used, this option overrides the template load setting specified by the <code class="highlighter-rouge">size</code> option.</td>
      <td><code class="highlighter-rouge">100</code></td>
    </tr>
  </tbody>
</table>

<h3 id="using-with-templates">Using with templates</h3>

<p>For example, to use a load size from an IBM Event Streams template, use the <code class="highlighter-rouge">producer.jar</code> command as follows:</p>

<p><code class="highlighter-rouge">java -jar target/producer.jar -a localhost:9092 -t loadtest -s large</code></p>

<p>This example creates a <code class="highlighter-rouge">large</code> message load based on the provided template (see the following table), and attempts to send the total number of messages to the topic called <code class="highlighter-rouge">loadtest</code> registered on the <code class="highlighter-rouge">localhost:9092</code> cluster.</p>

<p>The following table lists the template load sizes:</p>

<table>
  <thead>
    <tr>
      <th>Size</th>
      <th>Messages per second</th>
      <th>Total messages</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">small</code></td>
      <td>1000</td>
      <td>60,000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">medium</code></td>
      <td>10,000</td>
      <td>600,000</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">large</code></td>
      <td>100,000</td>
      <td>6,000,000</td>
    </tr>
  </tbody>
</table>

<h3 id="using-with-user-defined-values">Using with user-defined values</h3>

<p>For example, to test the load with your settings by defining the total number of messages and messages per second parameters, use the <code class="highlighter-rouge">producer.jar</code> command as follows:</p>

<p><code class="highlighter-rouge">java -jar target/producer.jar -a localhost:9092 -t loadtest -n 60000000 -m 1000000 -r 1000</code></p>

<p>This example creates a message load consisting of 60,000,000 messages with a size of 1000 bytes each, and attempts to send 1,000,000 of such messages per second to the topic called <code class="highlighter-rouge">loadtest</code> registered on the <code class="highlighter-rouge">localhost:9092</code> cluster.</p>

<p><strong>Note:</strong> You can override the parameter values by using the environment variables listed in the following table. This is useful, for example, when using containerization, and you are unable to specify parameters on the command line.</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Environment Variable</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Bootstrap Address</td>
      <td><code class="highlighter-rouge">ES_BOOTSTRAP_ADDRESS</code></td>
    </tr>
    <tr>
      <td>Topic</td>
      <td><code class="highlighter-rouge">ES_TOPIC</code></td>
    </tr>
    <tr>
      <td>Size</td>
      <td><code class="highlighter-rouge">ES_SIZE</code></td>
    </tr>
    <tr>
      <td>Num Records</td>
      <td><code class="highlighter-rouge">ES_NUM_RECORDS</code></td>
    </tr>
    <tr>
      <td>Messages per Second</td>
      <td><code class="highlighter-rouge">ES_THROUGHPUT</code></td>
    </tr>
    <tr>
      <td>Record Size</td>
      <td><code class="highlighter-rouge">ES_RECORD_SIZE</code></td>
    </tr>
  </tbody>
</table>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-07-19">July 19, 2018</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/mhub/qp-docs/docs/getting-started/generating-starter-app/" class="pagination--pager" title="Generating a starter application
">Previous</a>
    
    
      <a href="/mhub/qp-docs/docs/security/users/" class="pagination--pager" title="Setting up users
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>
      <!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <div align="center" style="margin: 1em 0;">
        <ins class="adsbygoogle"
             style="display:block; border-bottom: initial;"
             data-ad-client="ca-pub-7328585512091257"
             data-ad-slot="3049671934"
             data-ad-format="auto"></ins>
        </div>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script> -->
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
    <div id="results" class="results"></div></div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        
<div class="page__footer-copyright"><a href="https://www.ibm.com/privacy/us/en/" rel="nofollow" target="_blank">Privacy Policy</a>  &nbsp;© Copyright IBM Corp. 2018</br>
  Released under the <a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow" target="_blank">Apache License v2.0</a></div>

      </footer>
    </div>

    
  <script src="/mhub/qp-docs/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.2.0/js/all.js"></script>




<script src="/mhub/qp-docs/assets/js/lunr/lunr.min.js"></script>
<script src="/mhub/qp-docs/assets/js/lunr/lunr-store.js"></script>
<script src="/mhub/qp-docs/assets/js/lunr/lunr-en.js"></script>





  </body>
</html>
